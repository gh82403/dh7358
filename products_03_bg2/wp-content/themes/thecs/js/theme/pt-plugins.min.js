! function(_, n) {
    "use strict";
    var i = function(t, e) {
        this._element = t;
        t.__ivInstance = this;
        this.$e = _(t);
        this._itemSelector = e["itemSelector"] || ".item";
        this._loop = e["loop"] == undefined ? true : e["loop"];
        this._showThumb = e["showThumb"] || false;
        this._animateTime = e["animateTime"] == undefined ? 500 : e["animateTime"];
        this._animateInEase = e["animateInEase"] || "sineOut";
        this._animateOutEase = e["animateOutEase"] || "sineOut";
        this._cd = e["cd"] == undefined ? 300 : e["cd"];
        this._fadeTime = e["fadeTime"] == undefined ? 500 : e["fadeTime"];
        this._showTitle = e["showTitle"] == undefined ? true : e["showTitle"];
        this._skinStyle = e["skinStyle"] == undefined ? "dark" : e["skinStyle"];
        this._dragDistance = e["dragDistance"] == undefined ? 30 : e["dragDistance"];
        this._closeHandler = e["closeHandler"] || null;
        if (n["PT_IV_LOOP"] != undefined) {
            this._loop = n["PT_IV_LOOP"]
        }
        if (n["PT_IV_SHOW_THUMB"] != undefined) {
            this._showThumb = n["PT_IV_SHOW_THUMB"]
        }
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        this._isIE9 = navigator.userAgent.indexOf("MSIE 9.0") > -1;
        this._stageWidth = 0;
        this._isDevice = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
        this._clickEvt = this._isDevice ? "touchend mouseup" : "click";
        this._downEvt = "touchstart mousedown";
        this._moveEvt = "touchmove mousemove";
        this._upEvt = "touchend mouseup";
        this._allowCalls = ["open", "dispose"];
        this._isRTL = (_("body").css("direction") || "").toLowerCase() == "rtl";
        this._inCD = false;
        this._lastTapTime = 0;
        this._oldMouseX = 0;
        this._startDragX = 0;
        this._currentX = 0;
        this._dragTarget = null;
        this._canDrag = true;
        this._stageItems = [];
        this._isJsonDataMode = false;
        this.$triggerItems = null;
        this.$items = null;
        this._items = [];
        this._total = 0;
        this._currentIndex = 0;
        this._emptyData = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
        var i = this._showThumb ? "pt-iv-has-thumb pt-iv-show-thumbs " : "";
        i += this._skinStyle;
        if (this._isDevice) {
            i += " is-device"
        }
        this.$html = _('<div class="pt-iv-root ' + i + '">' + '<div class="pt-iv-container"></div>' + '<div class="pt-iv-prev pt-iv-btn"><i></i></div>' + '<div class="pt-iv-next pt-iv-btn"><i></i></div>' + '<div class="pt-iv-close pt-iv-btn"><i></i></div>' + '<div class="pt-iv-title"><i></i><p></p></div>' + '<div class="pt-iv-number"><i>1</i><i>/</i><i>' + this._total + "</i></div>" + '<ul class="pt-iv-thumb-list"></ul>' + (this._showThumb ? '<div class="pt-iv-thumbs-toggle"><i></i></div>' : "") + "</div>");
        this.$html.fadeOut(0);
        this.$thumbSource = _('<li class="pt-iv-thumb-item"><img src="' + this._emptyData + '" alt=""></li>');
        this.$thumbList = this.$html.find(".pt-iv-thumb-list");
        this.$numContainer = this.$html.find(".pt-iv-number");
        this.$currentNum = this.$numContainer.children("i:nth-child(1)");
        this.$totalNum = this.$numContainer.children("i:nth-child(3)");
        this.$numContainer.hide();
        this.$title = this.$html.find(".pt-iv-title>p");
        this.$imgContent = this.$html.find(".pt-iv-container");
        this._imgItems = [];
        this._thumbItems = [];
        var s = this._clickEvt;
        if (!this._isDevice) {
            this.$html.on("click", function(t) {
                var e = _(t.target);
                if (e.hasClass("pt-iv-item") || e.hasClass("pt-iv-loading")) {
                    t.preventDefault();
                    t.stopPropagation();
                    this._onClose()
                }
            }.bind(this))
        }
        if (this._isRTL) {
            this.$prevBtn = this.$html.find(".pt-iv-next");
            this.$nextBtn = this.$html.find(".pt-iv-prev")
        } else {
            this.$prevBtn = this.$html.find(".pt-iv-prev");
            this.$nextBtn = this.$html.find(".pt-iv-next")
        }
        this.$prevBtn.on(s, function(t) {
            this._onPrev()
        }.bind(this));
        this.$nextBtn.on(s, function(t) {
            this._onNext()
        }.bind(this));
        this.$html.find(".pt-iv-close").on(s, function(t) {
            t.preventDefault();
            t.stopPropagation();
            this._onClose()
        }.bind(this));
        this.$html.on("wheel", function(t) {
            var e = t.originalEvent;
            e.deltaY < 0 ? this._onPrev() : e.deltaY > 0 ? this._onNext() : ""
        }.bind(this));
        if (this._showThumb) {
            this.$html.find(".pt-iv-thumbs-toggle").on(s, function(t) {
                t.preventDefault();
                t.stopPropagation();
                this.$html.toggleClass("pt-iv-show-thumbs")
            }.bind(this))
        }
        this._onOpenHandler = this._onOpen.bind(this);
        this._onKeyUpHandler = this._onKeyUp.bind(this);
        this._onResizeHandler = this._onResize.bind(this);
        this._onDraggingHandler = this._onDragging.bind(this);
        this._onDragEndHandler = this._onDragEnd.bind(this);
        this.updateData()
    };
    var t = i.prototype;
    t.updateData = function() {
        var l = this.$e.find(this._itemSelector);
        var t;
        if (l.length === 1 && l.data("src-type") === "json") {
            this._isJsonDataMode = true;
            var o = this;
            (function() {
                var t = l.data("src");
                if (t && t.src && t.src.length > 0) {
                    var e = t.src.length,
                        i, s, n, h;
                    var r = _("<div></div>");
                    for (var a = 0; a < e; a++) {
                        s = t.src[a] || "";
                        if (!s) continue;
                        n = t.title ? t.title[a] || "" : "";
                        h = t.thumb ? t.thumb[a] || "" : "";
                        i = _('<div data-src="' + s + '" data-title="' + n + '" data-thumb="' + h + '"></div>');
                        r.append(i)
                    }
                    o.$items = r.children()
                }
            })()
        } else {
            this._isJsonDataMode = false;
            this.$items = l
        }
        this.$triggerItems = l;
        this._items.length = 0;
        this.$items.each(function(t, e) {
            this._items.push(e)
        }.bind(this));
        this._total = this._items.length;
        if (this._total > 1) {
            this.$numContainer.show()
        } else {
            this.$numContainer.hide()
        }
        /*this.$triggerItems.off("click", this._onOpenHandler).on("click", this._onOpenHandler);*/
        if (this._total < 2) {
            this.$prevBtn.addClass("pt-iv-btn-disabled");
            this.$nextBtn.addClass("pt-iv-btn-disabled")
        }
        this.$totalNum.html(this._total);
        if (this._showThumb) {
            this.$thumbList.empty();
            this._thumbItems.length = 0;
            var e, i, s, n = this._downEvt;
            for (var h = 0; h < this._total; h++) {
                i = this._items[h];
                e = _(i).data("thumb");
                s = this.$thumbSource.clone();
                s.children("img").attr("src", e);
                s.on(n, this._onClickThumb.bind(this));
                this.$thumbList.append(s);
                this._thumbItems.push(s)
            }
        }
    };
    t.open = function(t) {
        t = t || 0;
        if (t < 0) {
            t = 0
        } else if (t > this._total - 1) {
            t = this._total - 1
        }
        this._currentIndex = t;
        this._onOpen(null)
    };
    t._onClickThumb = function(t) {
        t.preventDefault();
        t.stopPropagation();
        var e = _(t.currentTarget);
        var i = e.index();
        if (i == this._currentIndex) {
            return
        }
        this.open(i)
    };
    t._onResize = function(t) {
        this._stageWidth = this.$html.width();
        var e = this._thumbItems[this._currentIndex];
        this._updateThumbListPos(e)
    };
    t._onKeyUp = function(t) {
        switch (t.keyCode) {
            case 37:
            case 38:
                this._onPrev();
                break;
            case 39:
            case 40:
                this._onNext();
                break;
            case 27:
                this._onClose();
                break
        }
    };
    t._onPrev = function() {
        if (this._checkInCD()) return;
        this.$html.removeClass("pt-iv-first-open");
        var t = this._currentIndex;
        t--;
        if (t < 0) {
            t = this._loop ? this._total - 1 : 0
        }
        if (this._currentIndex != t) {
            this._currentIndex = t;
            this.$currentNum.html(t + 1);
            var e = this._items[t];
            if (e) {
                this._showImage(_(e).attr("href") || _(e).data("src"), _(e).data("title"), 1, true)
            }
        }
    };
    t._onNext = function() {
        if (this._checkInCD()) return;
        this.$html.removeClass("pt-iv-first-open");
        var t = this._currentIndex;
        t++;
        if (t > this._total - 1) {
            t = this._loop ? 0 : this._total - 1
        }
        if (this._currentIndex != t) {
            this._currentIndex = t;
            this.$currentNum.html(t + 1);
            var e = this._items[t];
            if (e) {
                this._showImage(_(e).attr("href") || _(e).data("src"), _(e).data("title"), -1, true)
            }
        }
    };
    t._showImage = function(t, e, i, s) {
        this._canDrag = false;
        this._stageItems.forEach(function(t) {
            var e = i == -1 ? -this._stageWidth : this._stageWidth;
            if (this._isRTL) e = -e;
            createjs.Tween.get(t, {
                override: true,
                onChange: this._onUpdate.bind(this)
            }).to({
                __tweenX: e
            }, s ? this._animateTime : 0, createjs.Ease[this._animateOutEase] || createjs.Ease.sineOut).call(this._onTweenOutEnd.bind(this, t))
        }, this);
        this._stageItems.length = 0;
        var n = this._getImageItem(t);
        this.$imgContent.append(n);
        var h = i == -1 ? this._stageWidth : -this._stageWidth;
        if (this._isRTL) h = -h;
        this._renderX(_(n), h);
        n.__tweenX = h;
        createjs.Tween.get(n, {
            override: true,
            onChange: this._onUpdate.bind(this)
        }).to({
            __tweenX: 0
        }, s ? this._animateTime : 0, createjs.Ease[this._animateInEase] || createjs.Ease.sineOut).call(this._onTweenInEnd.bind(this));
        if (this._showTitle) {
            this.$title.fadeOut(s ? this._animateTime >> 1 : 0, function(t) {
                this.$title.html(t).fadeIn(this._animateTime >> 1)
            }.bind(this, e))
        }
        this._stageItems.push(n);
        this.$thumbList.children(".pt-iv-thumb-item").removeClass("selected");
        var r = this._thumbItems[this._currentIndex];
        r && r.addClass("selected");
        this._updateThumbListPos(r);
        this._updateArrow()
    };
    t._updateThumbListPos = function(t) {
        var e = this.$thumbList.width();
        if (e < this._stageWidth) {
            this.$thumbList.css("left", (this._stageWidth - e >> 1) + "px");
            return
        }
        var i = 0;
        if (t) {
            i = this._stageWidth / 2 - t.offset().left - t.width() / 2
        }
        var s = this.$thumbList.position().left + i;
        if (s > 0) {
            s = 0
        } else if (s < this._stageWidth - e) {
            s = this._stageWidth - e
        }
        this.$thumbList.css("left", s + "px")
    };
    t._dragBack = function() {
        createjs.Tween.get(this._dragTarget, {
            override: true,
            onChange: this._onUpdate.bind(this)
        }).to({
            __tweenX: 0
        }, this._animateTime, createjs.Ease[this._animateOutEase] || createjs.Ease.sineOut).call(this._onDragBack.bind(this))
    };
    t._onDragBack = function() {
        this._canDrag = true
    };
    t._onTweenInEnd = function() {
        this._canDrag = true
    };
    t._onTweenOutEnd = function(t) {
        this._imgItems.push(t);
        _(t).find("img").attr("src", this._emptyData);
        _(t).remove()
    };
    t._renderX = function(t, e) {
        if (this._isIE9) {
            t.css("transform", "translateX(" + e + "px)")
        } else {
            t.css("transform", "translate3d(" + e + "px,0,0)")
        }
    };
    t._onUpdate = function(t) {
        var e = t.target;
        var i = e.target;
        this._renderX(_(i), i.__tweenX)
    };
    t._onOpen = function(t) {
        if (t) {
            t.preventDefault();
            t.stopPropagation()
        }
        if (this._checkInCD()) return;
        var e;
        if (this._isJsonDataMode) {
            e = this._items[this._currentIndex];
            if (!e) {
                this._currentIndex = 0;
                e = this._items[this._currentIndex]
            }
        } else if (t) {
            e = t.currentTarget;
            this._currentIndex = this._items.indexOf(e)
        } else {
            e = this._items[this._currentIndex]
        }
        if (!e) {
            return
        }
        this.$html.addClass("pt-iv-first-open");
        _("body").addClass("pt-iv-modal").append(this.$html);
        this.$html.addClass("pt-iv-fading pt-iv-fading-in").fadeIn(this._fadeTime, function() {
            this.$html.removeClass("pt-iv-fading pt-iv-fading-in")
        }.bind(this));
        this.$currentNum.html(this._currentIndex + 1);
        setTimeout(function() {
            this._showImage(_(e).attr("href") || _(e).data("src"), _(e).data("title"))
        }.bind(this), 150);
        _(n).on("keyup", this._onKeyUpHandler);
        _(n).on("resize", this._onResizeHandler);
        this._onResize()
    };
    t._onClose = function(t) {
        this.$html.addClass("pt-iv-fading pt-iv-fading-out").fadeOut(this._fadeTime, function() {
            this.$html.removeClass("pt-iv-fading pt-iv-fading-out").detach();
            this._stageItems.forEach(function(t) {
                _(t).remove()
            }, this);
            this._stageItems.length = 0;
            if (this._closeHandler) {
                this._closeHandler && this._closeHandler.call(this, this)
            }
        }.bind(this));
        _("body").removeClass("pt-iv-modal");
        this.$html.removeClass("pt-iv-first-open");
        _(n).off("keyup", this._onKeyUpHandler);
        _(n).off("resize", this._onResizeHandler)
    };
    t._getImageItem = function(t) {
        var e, i;
        if (this._imgItems.length > 0) {
            e = this._imgItems.pop();
            i = _(e).find("img").get(0)
        } else {
            e = document.createElement("div");
            e.className = "pt-iv-item";
            e.innerHTML = '<div class="pt-iv-loading"><abbr class="pic-loader"></abbr></div>'
        }
        if (!i) {
            i = new Image;
            i.onload = function(t) {
                _(this).parent().addClass("pt-iv-img-loaded");
                this.style.opacity = 1
            };
            i.alt = "";
            e.appendChild(i)
        }
        e.__tweenX = 0;
        var s = _(e);
        s.removeClass("pt-iv-img-loaded");
        i.style.opacity = 0;
        i.src = t || this._emptyData;
        if (this._total > 1) {
            s.on(this._downEvt, this._onStartDrag.bind(this))
        }
        return e
    };
    t._getIsDblTap = function() {
        var t = (new Date).getTime();
        if (this._lastTapTime > 0) {
            var e = t - this._lastTapTime;
            if (e < 500) {
                this._lastTapTime = 0;
                return true
            }
        }
        this._lastTapTime = t;
        return false
    };
    t._onStartDrag = function(t) {
        var e = t.originalEvent;
        e.preventDefault();
        if (_(e.target).hasClass("pt-iv-item")) {
            return
        }
        if (!this._canDrag) return;
        this._canDrag = false;
        var i = e.currentTarget;
        this._dragTarget = i;
        _(n).off(this._moveEvt, this._onDraggingHandler).on(this._moveEvt, this._onDraggingHandler);
        _(n).off(this._upEvt, this._onDragEndHandler).on(this._upEvt, this._onDragEndHandler);
        this.$imgContent.addClass("pt-iv-press");
        this._oldMouseX = this._getMouseX(e);
        this._currentX = 0;
        this._startDragX = this._currentX
    };
    t._onDragging = function(t) {
        var e = t.originalEvent;
        e.preventDefault();
        var i = this._getMouseX(e);
        this._currentX += i - this._oldMouseX;
        this._oldMouseX = i;
        this._renderX(_(this._dragTarget), this._currentX)
    };
    t._onDragEnd = function(t) {
        _(n).off(this._moveEvt, this._onDraggingHandler);
        _(n).off(this._upEvt, this._onDragEndHandler);
        if (this._dragTarget) {
            this._dragTarget.__tweenX = this._currentX
        }
        var e = this._currentX - this._startDragX;
        if (this._isRTL) {
            e = -e
        }
        var i = false;
        if (e < -this._dragDistance) {
            if (this._isRTL) {
                i = this._currentIndex >= 0 && this._currentIndex < this._total - 1
            } else {
                i = this._currentIndex < this._total - 1
            }
            this._loop || i ? this._onNext() : this._dragBack()
        } else if (e > this._dragDistance) {
            if (this._isRTL) {
                i = this._currentIndex > 0 && this._currentIndex <= this._total - 1
            } else {
                i = this._currentIndex > 0
            }
            this._loop || i ? this._onPrev() : this._dragBack()
        } else {
            this._dragBack()
        }
        this.$imgContent.removeClass("pt-iv-press");
        this._dragTarget = null
    };
    t._updateArrow = function() {
        if (this._total < 2 || this._loop) return;
        var t = this.$prevBtn,
            e = this.$nextBtn,
            i = "pt-iv-btn-disabled";
        if (this._currentIndex <= 0) {
            t.addClass(i);
            e.removeClass(i)
        } else if (this._currentIndex >= this._total - 1) {
            t.removeClass(i);
            e.addClass(i)
        } else {
            t.removeClass(i);
            e.removeClass(i)
        }
    };
    t._getMouseX = function(t) {
        var e;
        if (this._isDevice) {
            var i = t.changedTouches,
                s;
            s = i[0];
            if (s) {
                e = s.pageX
            } else {
                e = t.pageX !== undefined ? t.pageX : t.clientX
            }
        } else {
            e = t.pageX !== undefined ? t.pageX : t.clientX
        }
        return e
    };
    t._checkInCD = function() {
        if (this._inCD) return true;
        setTimeout(function() {
            this._inCD = false
        }.bind(this), this._cd);
        this._inCD = true;
        return false
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (e && !Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i == "function") {
            i.apply(this, e || [])
        }
    };
    t.dispose = function() {
        this.$triggerItems.off("click", this._onOpenHandler);
        this.$html.remove();
        var t = _(n);
        t.off("keyup", this._onKeyUpHandler);
        t.off("resize", this._onResizeHandler);
        t.off(this._moveEvt, this._onDraggingHandler);
        t.off(this._upEvt, this._onDragEndHandler);
        var e = this._element;
        if (e) {
            e.__ivInstance = null;
            this._element = null
        }
        this._closeHandler = null
    };
    _.fn.extend({
        ptImageViewer: function(t) {
            var e;
            this.each(function() {
                e = this.__ivInstance;
                if (e) {
                    e.updateData()
                } else {
                    new i(this, t)
                }
            });
            return this
        },
        ptImageViewerCall: function(e, i) {
            this.each(function() {
                var t = this.__ivInstance;
                t && t.execute(e, i)
            });
            return this
        }
    })
}(jQuery, window);
! function(c, f) {
    "use strict";
    var i = function(t, e) {
        this._element = t;
        this._element.__ptHScroller = this;
        var i = c(this._element);
        this.$element = i;
        var s = null;
        if (e.contentTarget && typeof e.contentTarget === "object") {
            s = c(e.contentTarget)
        } else {
            s = this.$element.find(e.contentTarget || ".list-content")
        }
        this.$content = s;
        this._content = s.get(0);
        if (!this._content) {
            if (this._element) {
                this._element.__ptHScroller = null;
                this._element = null;
                this.$element = null
            }
            this.$content = null;
            this._disposed = true;
            return this
        }
        s.addClass("pt-hs-content");
        var n = null;
        if (e.wrapTarget && typeof e.wrapTarget === "object") {
            n = c(e.wrapTarget)
        } else {
            n = this.$element.find(e.wrapTarget || ".wrap")
        }
        this.$wrap = n;
        this._wrap = n.get(0);
        var h = null;
        if (e.viewportTarget && typeof e.viewportTarget === "object") {
            h = c(e.viewportTarget)
        } else if (e.viewportTarget) {
            h = this.$wrap.find(e.viewportTarget)
        }
        this.$scroller = this.$element.find(".list-scroller");
        this.$scrollerHolder = this.$scroller.parent();
        this._items = [];
        if (h) {
            h.each(function(t, e) {
                this._items.push(c(e))
            }.bind(this))
        }
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        this._disableTarget = e.disableTarget || "cannot-hscroll";
        if (this._disableTarget.indexOf(".") === 0) {
            this._disableTarget = this._disableTarget.substring(1)
        }
        this._scrollOffset = e.scrollOffset === undefined ? .1 : e.scrollOffset;
        this._scrollSpeed = e.scrollSpeed === undefined ? 350 : e.scrollSpeed;
        this._scrollEase = e.scrollEase || "cubicOut";
        this._scrollOverride = e.override === undefined ? true : e.override;
        this._rememberLastScroll = e.rememberLastScroll === undefined ? true : e.rememberLastScroll;
        this._ignoreScrollerWidth = e.ignoreScrollerWidth === undefined ? true : e.ignoreScrollerWidth;
        this._checkWindowSize = e.checkWindowSize === undefined ? true : e.checkWindowSize;
        this._needButton = e.needButton || false;
        this._enabledButtonClass = e.enabledButtonClass || "enabled";
        this._buttonScrollPercent = e.buttonScrollPercent === undefined ? .5 : e.buttonScrollPercent;
        this._widthTolerance = e.widthTolerance === undefined ? 1 : e.widthTolerance;
        if (this._enabledButtonClass.indexOf(".") === 0) {
            this._enabledButtonClass = this._enabledButtonClass.substring(1)
        }
        this._scrollable = true;
        this._lastValue = 0;
        if (this._rememberLastScroll) {
            this._storeId = "pt-hs-" + t.nodeName.toLowerCase() + "-" + (t.id ? t.id + "-" : "") + i.attr("class").replace(/\s/g, "-");
            this._lastValue = parseInt(f.localStorage ? f.localStorage.getItem(this._storeId) || 0 : 0) || 0
        }
        this._wheelTarget = e.wheelTarget || "";
        this._preventDefaultScroll = e.preventDefaultScroll === undefined ? true : e.preventDefaultScroll;
        this._onWheelBeforeHandler = e.onWheelBefore || null;
        this._onWheelAfterHandler = e.onWheelAfter || null;
        this._disposed = false;
        this._scrollDistance = 0;
        this._allowCalls = ["getX", "scroll", "scrollTo", "enableViewport", "resize", "dispose"];
        this._x = 0;
        this._scrollX = 0;
        this._scrollerX = 0;
        this._oldMouseX = 0;
        this._currentX = 0;
        this._enableMouseWheel = false;
        this._containerX = 0;
        this._width = 0;
        this._contentWidth = 0;
        this._offsetWidth = 0;
        this._stepOffset = 0;
        this._tweenValue = 0;
        this._notEnoughToScroll = false;
        this._stageWidth = 0;
        this._scrollRectWidth = 0;
        this._isRTL = (c("body").css("direction") || "").toLowerCase() == "rtl";
        if (this._isRTL) {
            var r = c('<div dir="rtl" style="font-size: 14px; width: 4px; height: 1px; position: absolute; top: -1000px; overflow: scroll">hs</div>').appendTo("body")[0];
            this._rtlType = "reverse";
            if (r.scrollLeft > 0) {
                this._rtlType = "default"
            } else {
                r.scrollLeft = 1;
                if (r.scrollLeft === 0) {
                    this._rtlType = "negative"
                }
            }
            c(r).remove()
        }
        this._cssXProp = this._isRTL ? "right" : "left";
        this._isTweening = false;
        this._inviewClass = e.viewportAddClass || "init-viewport";
        this._enableCheckViewport = e.enableViewport || false;
        if (this._inviewClass.indexOf(".") === 0) {
            this._inviewClass = this._inviewClass.substring(1)
        }
        this._isDragging = false;
        this._tweenMoveScroller = false;
        this._aniValue = 0;
        this._isIE9 = navigator.userAgent.indexOf("MSIE 9.0") > -1;
        this._onMouseWheelHandler = this._onMouseWheel.bind(this);
        if (this._wheelTarget) {
            c(this._wheelTarget).on("wheel", this._onMouseWheelHandler)
        } else {
            this.$element.on("wheel", this._onMouseWheelHandler)
        }
        var a = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
        if (a) {
            s.css({
                "overflow-x": "auto",
                "overflow-y": "hidden"
            })
        }
        this.$prevBtn = null;
        this.$nextBtn = null;
        if (this._needButton) {
            var l = c('<i class="pt-hs-roll-btn prev"></i>');
            var o = c('<i class="pt-hs-roll-btn next"></i>');
            i.append(l);
            i.append(o);
            var _ = "ontouchend" in document ? true : false;
            var d = _ ? "touchend" : "click";
            l.on(d, function() {
                this.scroll(this._width * this._buttonScrollPercent, 0)
            }.bind(this));
            o.on(d, function() {
                this.scroll(this._width * this._buttonScrollPercent, 1)
            }.bind(this));
            this.$prevBtn = l;
            this.$nextBtn = o
        }
        this._onKeyDownHandler = this._onKeyDown.bind(this);
        c(f).on("keydown", this._onKeyDownHandler);
        this._onAniUpdateHandler = this._onAniUpdate.bind(this);
        this._onAniCompleteHandler = this._onAniComplete.bind(this);
        this._onResizeHandler = this._onResize.bind(this);
        c(f).on("resize", this._onResizeHandler);
        this._onStartDragHandler = this._onStartDrag.bind(this);
        this._onDraggingHandler = this._onDragging.bind(this);
        this._onStopDragHandler = this._onStopDrag.bind(this);
        this.$scroller.on("mousedown", this._onStartDragHandler);
        this.$scrollerHolder.on("mousedown", function(t) {
            if (t.target === this.$scrollerHolder.get(0)) {
                t.preventDefault();
                t.stopPropagation();
                var e = t.pageX === undefined ? t.clientX : t.pageX;
                var i = e - this.$scrollerHolder.offset().left;
                var s = i / this._scrollRectWidth;
                var n = this._offsetWidth * s * -1;
                this.scrollTo(n, true)
            }
        }.bind(this));
        s.on("scroll", this._onNativeScroll.bind(this));
        var u = document.referrer === f.location.href;
        this._onResize(null, this._lastValue === 0 || !u);
        this._onScrollHandler = e.onScroll || null;
        this._onScrollEndHandler = e.onScrollEnd || null;
        if (u && this._lastValue !== 0) {
            this.scrollTo(this._lastValue, false)
        }
    };
    var t = i.prototype;
    t._onResize = function(t, e) {
        if (e === undefined) {
            e = true
        }
        this._containerX = this.$element.offset().left;
        this._width = this.$element.width();
        this._contentWidth = this.$wrap.get(0) ? this.$wrap.get(0).scrollWidth : 0;
        this._offsetWidth = this._contentWidth - this._width;
        this._stageWidth = c(f).width();
        this._scrollable = this._checkWindowSize ? this._stageWidth >= c(f).height() : true;
        this._scrollDistance = Math.floor(this._scrollOffset * this.$content.width());
        this._notEnoughToScroll = this._contentWidth <= this._width + this._widthTolerance;
        if (this._notEnoughToScroll) {
            this._enableMouseWheel = false;
            this.$element.addClass("no-scroll")
        } else {
            this._enableMouseWheel = true;
            this.$element.removeClass("no-scroll")
        }
        this._scrollRectWidth = parseInt(this.$scrollerHolder.css("width")) || this._width;
        if (!this._ignoreScrollerWidth) {
            this._scrollRectWidth -= this.$scroller.width()
        }
        if (this._notEnoughToScroll) {
            this.$scroller.hide()
        } else {
            this.$scroller.css("display", "block");
            if (this._ignoreScrollerWidth) {
                var i = this._scrollerX / this._scrollRectWidth * 100;
                this.$scroller.css(this._cssXProp, i + "%")
            } else {
                this.$scroller.css(this._cssXProp, this._scrollerX + "px")
            }
        }
        if (this._x + this._contentWidth < this._width) {
            this._x = this._width - this._contentWidth;
            if (this._x > 0) {
                this._x = 0
            }
        }
        if (e || this._notEnoughToScroll) {
            this._render(true)
        }
        if (this._needButton) {
            this._updateButtonState(this._x)
        }
        c(f).trigger("h-resize", [{
            scrollX: this._content.scrollLeft,
            containerX: this._containerX,
            contentWidth: this._contentWidth,
            containerWidth: this._width,
            offsetWidth: this._offsetWidth
        }])
    };
    t._onKeyDown = function(t) {
        if (!this._scrollable) {
            return
        }
        switch (t.keyCode) {
            case 37:
            case 38:
                this._toPrev(this._scrollDistance * 5);
                break;
            case 39:
            case 40:
                this._toNext(this._scrollDistance * 5);
                break;
            case 36:
                this.scrollTo(0, true);
                break;
            case 35:
                this.scrollTo(-this._offsetWidth, true);
                break;
            case 33:
                this.scrollTo(this._x + this._width, true);
                break;
            case 34:
                this.scrollTo(this._x - this._width, true);
                break
        }
    };
    t._onMouseWheel = function(t) {
        if (!this._enableMouseWheel) return;
        if (this._isDragging) return;
        if (!this._scrollable) {
            return
        }
        var e = t.originalEvent;
        if (e.defaultPrevented || e.ctrlKey) return;
        var i;
        if (e.deltaX !== undefined && e.deltaX !== 0) {
            i = e.deltaX
        } else {
            i = e.deltaY
        }
        if (this._checkUnderScrollable(e.target, i < 0)) {
            return
        }
        if (this._preventDefaultScroll) e.preventDefault();
        if (this._onWheelBeforeHandler) this._onWheelBeforeHandler();
        if (i < 0) {
            this._toPrev(e.deltaMode === 0 ? -i : -i * 60)
        } else if (i > 0) {
            this._toNext(e.deltaMode === 0 ? i : i * 60)
        }
        if (this._onWheelAfterHandler) {
            this._onWheelAfterHandler()
        }
    };
    t._checkUnderScrollable = function(t, e) {
        var i = document.body;
        var s, n = t;
        if (!c.contains(i, t)) {
            return false
        }
        while (n && n !== i) {
            if (c(n).hasClass(this._disableTarget)) {
                return true
            }
            s = getComputedStyle(n, "").getPropertyValue("overflow-y");
            if (s === "scroll" || s === "auto") {
                if (n.clientHeight < n.scrollHeight) {
                    if (e && n.scrollTop > 0 || !e && Math.round(n.scrollTop) < n.scrollHeight - n.clientHeight - 1) {
                        return true
                    }
                }
            }
            n = n.parentNode
        }
        return false
    };
    t._onStartDrag = function(t) {
        t.preventDefault();
        t.stopPropagation();
        var e = c(f);
        e.off("mousemove", this._onDraggingHandler).on("mousemove", this._onDraggingHandler);
        e.off("mouseup", this._onStopDragHandler).on("mouseup", this._onStopDragHandler);
        this._isDragging = true;
        this.$scroller.addClass("dragging");
        this._oldMouseX = t.pageX === undefined ? t.clientX : t.pageX;
        this._currentX = this._scrollerX
    };
    t._onDragging = function(t) {
        t.preventDefault();
        t.stopPropagation();
        var e = t.pageX === undefined ? t.clientX : t.pageX;
        if (this._isRTL) {
            this._currentX -= e - this._oldMouseX
        } else {
            this._currentX += e - this._oldMouseX
        }
        this._oldMouseX = e;
        if (this._currentX < 0) {
            this._currentX = 0
        } else if (this._currentX > this._scrollRectWidth) {
            this._currentX = this._scrollRectWidth
        }
        var i = this._currentX / this._scrollRectWidth;
        this._scrollerX = this._currentX;
        if (this._ignoreScrollerWidth) {
            this.$scroller.css(this._cssXProp, i * 100 + "%")
        } else {
            this.$scroller.css(this._cssXProp, this._scrollerX + "px")
        }
        var s = this._offsetWidth * i * -1;
        this._scrollX = s;
        this._tweenX(s, false)
    };
    t._onStopDrag = function(t) {
        t.preventDefault();
        t.stopPropagation();
        var e = c(f);
        e.off("mousemove", this._onDraggingHandler);
        e.off("mouseup", this._onStopDragHandler);
        this._isDragging = false;
        this.$scroller.removeClass("dragging")
    };
    t._onNativeScroll = function(t) {
        if (!this._scrollable) {
            return
        }
        if (this._isTweening) {
            return
        }
        var e;
        if (this._isRTL) {
            if (this._rtlType === "reverse") {
                e = -this._content.scrollLeft
            } else if (this._rtlType === "negative") {
                e = this._content.scrollLeft
            } else {
                e = this._content.scrollLeft - this._offsetWidth
            }
        } else {
            e = -this._content.scrollLeft
        }
        this._aniValue = this._x = e;
        this._render(true, true)
    };
    t._render = function(t, e) {
        this._checkViewport();
        if (!e) {
            if (this._isRTL) {
                if (this._rtlType === "reverse") {
                    this._content.scrollLeft = -this._x
                } else if (this._rtlType === "negative") {
                    this._content.scrollLeft = this._x
                } else {
                    this._content.scrollLeft = this._x + this._offsetWidth
                }
            } else {
                this._content.scrollLeft = -this._x
            }
        }
        var i = Math.round(-1 * this._x / this._offsetWidth * this._scrollRectWidth);
        var s = i / this._scrollRectWidth;
        if (t) {
            this._updateScroller(Math.floor(i))
        }
        if (this._onScrollHandler) {
            this._onScrollHandler(s)
        }
        c(f).trigger("h-scroll", [{
            scrollX: this._content.scrollLeft,
            containerX: this._containerX,
            contentWidth: this._contentWidth,
            containerWidth: this._width,
            offsetWidth: this._offsetWidth
        }])
    };
    t._checkViewport = function() {
        var t = this._items.length;
        if (this._enableCheckViewport && t > 0) {
            var e, i;
            for (var s = t - 1; s >= 0; s--) {
                e = this._items[s];
                i = e.offset().left - this._containerX;
                if (i > -e.width() && i < this._width) {
                    e.addClass(this._inviewClass);
                    this._items.splice(s, 1)
                }
            }
        }
    };
    t._updateScroller = function(t) {
        if (t === undefined) {
            t = Math.floor(-1 * this._x / this._offsetWidth * this._scrollRectWidth)
        }
        var e = t / this._scrollRectWidth;
        if (this._scrollerX !== t) {
            this._scrollerX = t;
            if (this._ignoreScrollerWidth) {
                this.$scroller.css(this._cssXProp, e * 100 + "%")
            } else {
                this.$scroller.css(this._cssXProp, this._scrollerX + "px")
            }
        }
    };
    t._toPrev = function(t) {
        var e;
        if (this._isTweening && this._scrollOverride) {
            e = this._scrollX + t
        } else {
            e = this._x + t
        }
        if (e > 0) {
            e = 0
        }
        this._aniValue = this._x;
        this._scrollX = e;
        this._tweenX(e, true)
    };
    t._toNext = function(t) {
        var e;
        if (this._isTweening && this._scrollOverride) {
            e = this._scrollX - t
        } else {
            e = this._x - t
        }
        if (e < -this._offsetWidth) {
            e = -this._offsetWidth
        }
        this._aniValue = this._x;
        this._scrollX = e;
        this._tweenX(e, true)
    };
    t._tweenX = function(t, e) {
        if (this._x === t) {
            return
        }
        this._tweenMoveScroller = e;
        this._isTweening = true;
        this._updateButtonState(t);
        createjs.Tween.get(this, {
            override: true,
            onChange: this._onAniUpdateHandler
        }).to({
            _aniValue: t
        }, this._scrollSpeed, createjs.Ease[this._scrollEase] || createjs.Ease.cubicOut).call(this._onAniCompleteHandler)
    };
    t._onAniUpdate = function(t) {
        this._x = this._aniValue;
        this._render(this._tweenMoveScroller)
    };
    t._onAniComplete = function() {
        this._isTweening = false;
        if (this._onScrollEndHandler) {
            setTimeout(this._onScrollEndHandler, 0)
        }
        if (this._rememberLastScroll && f.localStorage) {
            f.localStorage.setItem(this._storeId, this._x.toString())
        }
    };
    t._updateButtonState = function(t) {
        if (t === undefined) {
            t = this._x
        }
        var e = this.$prevBtn,
            i = this.$nextBtn,
            s = this._enabledButtonClass;
        if (e && i) {
            if (this._notEnoughToScroll) {
                e.removeClass(s);
                i.removeClass(s)
            } else if (t >= 0) {
                e.removeClass(s);
                i.addClass(s)
            } else if (t <= -this._offsetWidth) {
                e.addClass(s);
                i.removeClass(s)
            } else {
                e.addClass(s);
                i.addClass(s)
            }
        }
    };
    t.enableViewport = function(t) {
        this._enableCheckViewport = t
    };
    t.resize = function() {
        this._onResize(null, true)
    };
    t.scrollTo = function(t, e) {
        if (!this._scrollable) {
            return
        }
        if (e === undefined) {
            e = true
        }
        if (t > 0) {
            t = 0
        }
        if (t < -this._offsetWidth) {
            t = -this._offsetWidth
        }
        this._scrollX = t;
        if (e) {
            this._tweenX(t, true)
        } else {
            this._x = t;
            if (this._isRTL) {
                if (this._rtlType === "reverse") {
                    this._content.scrollLeft = -t
                } else if (this._rtlType === "negative") {
                    this._content.scrollLeft = t
                } else {
                    this._content.scrollLeft = t + this._offsetWidth
                }
            } else {
                this._content.scrollLeft = -t
            }
        }
    };
    t.scroll = function(t, e) {
        if (!this._scrollable) {
            return
        }
        if (t === undefined) {
            t = 0
        }
        if (t < 0) {
            t = -t
        }
        if (e === undefined) {
            e = 1
        }
        var i;
        if (e > 0) {
            i = this._x - t
        } else {
            i = this._x + t
        }
        this.scrollTo(i)
    };
    t.getX = function() {
        return this._x
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (!Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i === "function") {
            return i.apply(this, e)
        }
    };
    t.dispose = function() {
        if (this._disposed) return;
        this._disposed = true;
        var t = c(f);
        createjs.Tween.removeTweens(this);
        if (this._onResizeHandler) {
            t.off("resize", this._onResizeHandler);
            this._onResizeHandler = null
        }
        if (this._element) {
            this.$element.off("mouseenter mouseleave mousemove wheel");
            this._element.__ptHScroller = null;
            this._element = null
        }
        if (this._needButton) {
            if (this.$prevBtn) {
                this.$prevBtn.remove();
                this.$prevBtn = null
            }
            if (this.$nextBtn) {
                this.$nextBtn.remove();
                this.$nextBtn = null
            }
        }
        if (this._wheelTarget) {
            c(this._wheelTarget).off("wheel", this._onMouseWheelHandler)
        }
        this._enableMouseWheel = false;
        this._onAniUpdateHandler = null;
        this._onMouseWheelHandler = null;
        this._onWheelBeforeHandler = null;
        this._onWheelAfterHandler = null;
        t.off("keydown", this._onKeyDownHandler);
        this._onKeyDownHandler = null;
        this.$scroller.off("mousedown", this._onStartDragHandler);
        this.$scrollerHolder.off("mousedown");
        t.off("mousemove", this._onDraggingHandler);
        t.off("mouseup", this._onStopDragHandler);
        if (this.$content) {
            this.$content.off("scroll")
        }
        this._onStartDragHandler = null;
        this._onDraggingHandler = null;
        this._onStopDragHandler = null;
        this._onScrollHandler = null;
        this._onScrollEndHandler = null
    };
    c.fn.extend({
        ptHScroller: function(e) {
            this.each(function() {
                var t = this.__ptHScroller;
                t && t.dispose();
                new i(this, e)
            });
            return this
        },
        ptHScrollerCall: function(i, s) {
            var n = [];
            this.each(function() {
                var t = this.__ptHScroller;
                var e = t && t.execute(i, s);
                n.push({
                    target: this,
                    value: e
                })
            });
            return n
        },
        ptHScrollerDispose: function() {
            this.each(function() {
                var t = this.__ptHScroller;
                t && t.dispose()
            });
            return this
        }
    })
}(jQuery, window);
! function(b, r) {
    "use strict";
    var i = function(t, e) {
        this._element = t;
        t.__ptFlexRow = this;
        this.$element = b(this._element);
        e = e || {};
        this._options = e;
        var i;
        if (e.wrapTarget && typeof e.wrapTarget === "object") {
            i = b(e.wrapTarget)
        } else {
            i = b(t).find(e.wrapClass || ".wrap")
        }
        this.$content = i;
        var s;
        if (e.itemTarget && typeof e.itemTarget === "object") {
            s = b(e.itemTarget)
        } else if (e.itemTarget) {
            s = this.$content.find(e.itemTarget || ".item")
        }
        this.$items = s;
        this._onResizeBefore = e.onResizeBefore || null;
        this._onResizeAfter = e.onResizeAfter || null;
        this._rows = e.rows || 2;
        this._needBR = e.needBR === undefined ? true : e.needBR;
        this._isIE9 = navigator.userAgent.indexOf("MSIE 9.0") > -1;
        this._isRTL = (b("body").css("direction") || "").toLowerCase() == "rtl";
        this._useJustified = e.useJustified === undefined ? true : e.useJustified;
        if (this._isRTL) {
            this._useJustified = false
        }
        this._alignType = e.alignType || 1;
        this._scrollPercent = 0;
        this._totalWidth = 0;
        this._viewWidth = 0;
        this._disposed = false;
        this.$itemContainers = [];
        var n;
        for (var h = 0; h < this._rows; h++) {
            n = b('<div class="fr-item-container"></div>');
            this.$content.append(n);
            this.$itemContainers.push(n);
            if (this._needBR && h !== this._rows - 1) {
                n.after("<br/>")
            }
        }
        this._itemContainerWidths = [];
        this._allowCalls = ["setScrollPercent", "resize", "dispose"];
        this._onResizeHandler = this._resize.bind(this);
        b(r).on("resize", this._onResizeHandler);
        if (e.onInit) {
            e.onInit()
        }
        this._resize()
    };
    var t = i.prototype;
    t._resize = function() {
        this._viewWidth = this.$element.width();
        if (this._onResizeBefore) {
            this._onResizeBefore()
        }
        var t = this._align();
        if (this._useJustified) {
            for (var e = 0; e < this._rows; e++) {
                this._itemContainerWidths[e] = Math.round(this.$itemContainers[e].get(0).scrollWidth)
            }
            var i = this.setScrollPercent(this._scrollPercent);
            if (this._onResizeAfter) {
                this._onResizeAfter(t || !i)
            }
        } else {
            if (this._onResizeAfter) {
                this._onResizeAfter(t)
            }
        }
    };
    t._align = function(t) {
        var e = [],
            i, s = 0;
        this.$items.each(function() {
            i = Math.floor(b(this).width());
            s += i;
            e.push(i)
        });
        if (!t && this._totalWidth === s) {
            return false
        }
        this._totalWidth = s;
        var n = s / this._rows;
        var h, r, a = e.length,
            l = 0,
            o = 0;
        var _, d, u = [];
        if (this._alignType === 1) {
            for (h = 0; h < this._rows; h++) {
                u[h] = -this._rows + h
            }
            for (h = 0; h < a; h++) {
                _ = Math.min.apply(null, u);
                o = u.indexOf(_);
                u[o] += e[h];
                this.$itemContainers[o].append(this.$items.get(h))
            }
        } else {
            var c = [];
            var f = [];
            for (h = 0; h < this._rows; h++) {
                u[h] = 0;
                f[h] = []
            }
            for (h = 0; h < a; h++) {
                l += e[h];
                u[o] += e[h];
                f[o].push(h);
                if (l > n) {
                    o++;
                    if (o > this._rows - 1) {
                        o = this._rows - 1
                    } else {
                        l = 0
                    }
                }
            }
            if (this._rows > 1) {
                var p, g, v, m, y;
                for (h = 0; h < this._rows; h++) {
                    _ = Math.min.apply(null, u);
                    p = u.indexOf(_);
                    d = Math.max.apply(null, u);
                    g = u.indexOf(d);
                    v = d - _;
                    y = f[g].length - 1;
                    y = f[g][y];
                    m = e[y];
                    if (m < v) {
                        f[g].pop();
                        f[p].unshift(y);
                        u[g] -= m;
                        u[p] += m
                    } else {
                        break
                    }
                }
            }
            for (h = 0; h < this._rows; h++) {
                f[h].forEach(function(t) {
                    this.$itemContainers[h].append(this.$items.get(t))
                }, this)
            }
        }
        var w = [];
        for (h = 0; h < this._rows; h++) {
            this.$itemContainers[h].removeClass("longest");
            w.push(this.$itemContainers[h].get(0).scrollWidth)
        }
        d = Math.max.apply(null, w);
        g = w.indexOf(d);
        this.$itemContainers[g].addClass("longest");
        return true
    };
    t.setScrollPercent = function(t) {
        if (!this._useJustified) {
            return false
        }
        this._scrollPercent = t;
        var e = this._itemContainerWidths;
        var i = [];
        e.forEach(function(t, e) {
            if (t <= this._viewWidth) {
                i.push(e)
            }
        }, this);
        if (this._rows - i.length < 2) {
            this.$itemContainers.forEach(function(t) {
                this._renderX(t, 0)
            }, this);
            return false
        }
        var s = Math.max.apply(null, e);
        var n = e.indexOf(s);
        var h, r;
        for (var a = 0; a < this._rows; a++) {
            if (a === n || i.indexOf(a) > -1) {
                this._renderX(this.$itemContainers[a], 0);
                continue
            }
            h = s - e[a];
            r = h * t;
            this._renderX(this.$itemContainers[a], r)
        }
        return true
    };
    t._renderX = function(t, e) {
        if (this._isIE9) {
            t.css("-ms-transform", "translateX(" + e + "px)")
        } else {
            t.css("transform", "translate3d(" + e + "px,0,0)")
        }
    };
    t.resize = function() {
        this._align(true)
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (!Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i === "function") {
            i.apply(this, e)
        }
    };
    t.dispose = function() {
        if (this._disposed) return;
        this._disposed = true;
        this._onResizeBefore = null;
        this._onResizeAfter = null;
        b(r).off("resize", this._onResizeHandler);
        this._onResizeHandler = null;
        if (this._element) {
            this._element.__ptFlexRow = null;
            this._element = null
        }
    };
    b.fn.extend({
        ptFlexRow: function(e) {
            this.each(function() {
                var t = this.__ptFlexRow;
                t && t.dispose();
                new i(this, e)
            });
            return this
        },
        ptFlexRowCall: function(e, i) {
            this.each(function() {
                var t = this.__ptFlexRow;
                t && t.execute(e, i)
            });
            return this
        }
    })
}(jQuery, window);
! function(d, i) {
    "use strict";
    var n = {
        playingPlayers: [],
        onStatusChanged: null
    };
    var e = function() {
        n.vimeoApiReady = true;
        if (n.vimeoWaitingPlayers) {
            var t = n.vimeoWaitingPlayers.length,
                e;
            while (t--) {
                e = n.vimeoWaitingPlayers[t];
                e && e.init()
            }
            n.vimeoWaitingPlayers.length = 0
        }
    };
    i.onYouTubeIframeAPIReady = function() {
        n.youtubeApiReady = true;
        if (n.youtubeWaitingPlayers) {
            var t = n.youtubeWaitingPlayers.length,
                e;
            while (t--) {
                e = n.youtubeWaitingPlayers[t];
                e && e.init()
            }
            n.youtubeWaitingPlayers.length = 0
        }
    };
    var u = function(t) {
        var e = t.indexOf("?");
        if (e == -1) return null;
        var i = t.substring(e + 1);
        e = i.indexOf("#");
        if (e > -1) {
            i = i.substring(0, e)
        }
        i = i.replace(/&amp;|&amp%3b/gi, "&");
        var s = i.split("&"),
            n;
        var h = s.length,
            r = {};
        for (var a = 0; a < h; a++) {
            n = s[a].split("=");
            if (n.length > 1) {
                r[decodeURIComponent(n[0])] = decodeURIComponent(n[1])
            }
        }
        return r
    };
    var s = function(t, e, i, s, n) {
        this.type = "vimeo";
        this._container = t;
        this._options = i;
        this._callback = s;
        this._playerMgr = n;
        this._isInited = false;
        this._needPlay = false;
        this._needPause = false;
        this._needMute = false;
        var h = this._options.full ? "width:" + this._options.width + "px;height:" + this._options.height + "px;" : "width:100%;height:100%;";
        var r = '<div class="pt-vimeo-player" style="z-index:' + (i.controls ? 2 : 0) + ";" + h + 'position:absolute;left:0;top:0;"></div>';
        d(this._container).append(r);
        this._src = e;
        Object.defineProperty(this, "src", {
            get: this.getSrc
        })
    };
    var t = s.prototype;
    t.init = function() {
        var t = this._options.volume === undefined ? 1 : this._options.volume;
        if (this._options.autoplay && t > 0) {
            t = 0;
            this._needMute = true
        }
        var e = {
            url: this._src,
            autopause: false,
            width: this._options.width,
            height: this._options.height,
            autoplay: this._options.autoplay ? true : false,
            background: this._options.controls ? false : true,
            loop: this._options.loop ? true : false,
            muted: t === 0 ? true : false
        };
        this.player = new Vimeo.Player(d(this._container).children(".pt-vimeo-player").get(0), e);
        this.player.setVolume(t);
        this.player.on("loaded", this.onPlayerReady.bind(this));
        this.player.on("play", this._onPlay.bind(this));
        this.player.on("pause", this._onPause.bind(this));
        this.player.on("ended", this._onPlayEnd.bind(this));
        if (this._options.autoplay) {
            this._playerMgr.handlePlayer("play", this)
        }
    };
    t.onPlayerReady = function() {
        d(this._container).animate({
            opacity: 1
        }, 400);
        if (this._callback) {
            this._callback.call(this._playerMgr)
        }
        this._isInited = true;
        this._playerMgr.onStart();
        if (this._needPlay) {
            this._needPlay = false;
            this.play()
        }
        if (this._needPause) {
            this._needPause = false;
            this.pause()
        }
        if (this._needMute) {
            this._needMute = false;
            this.mute()
        }
        var e = this;
        this.player.getPaused().then(function(t) {
            if (t) {
                e._playerMgr.handlePlayer("pause", e)
            }
        }).catch(function(t) {})
    };
    t.play = function() {
        if (!this._isInited) {
            this._needPlay = true
        } else {
            this.player.play();
            this._playerMgr.handlePlayer("play", this)
        }
    };
    t.pause = function() {
        if (!this._isInited) {
            this._needPause = true
        } else {
            this.player.pause();
            this._playerMgr.handlePlayer("pause", this)
        }
    };
    t.mute = function() {
        if (!this._options.volume) {
            return
        }
        if (!this._isInited) {
            this._needMute = true
        } else {
            this.player.setVolume(0);
            this._playerMgr.handlePlayer("mute", this)
        }
    };
    t.unMute = function() {
        if (!this._options.volume) {
            return
        }
        if (!this._isInited) {
            this._needMute = false
        } else {
            this.player.setVolume(this._options.volume === undefined ? 1 : this._options.volume);
            this._playerMgr.handlePlayer("unMute", this)
        }
    };
    t._onPlay = function(t) {
        this._playerMgr.handlePlayer("play", this)
    };
    t._onPause = function(t) {
        this._playerMgr.handlePlayer("pause", this)
    };
    t._onPlayEnd = function(t) {
        this._playerMgr.onEnd();
        this._playerMgr.handlePlayer("end", this)
    };
    t.getSrc = function() {
        return this._src
    };
    t.dispose = function() {
        this.pause();
        this._callback = null;
        this._playerMgr = null;
        if (this.player) {
            this.player.unload();
            this.player = null
        }
    };
    var h = function(t, e, i, s, n) {
        this.type = "youtube";
        this._container = t;
        this._options = i;
        this.player = null;
        this._callback = s;
        this._playerMgr = n;
        this._isInited = false;
        this._needPlay = false;
        this._needPause = false;
        this._needMute = false;
        var h = this._options.full ? "width:" + this._options.width + "px;height:" + this._options.height + "px;" : "width:100%;height:100%;";
        var r = '<div class="pt-youtube-player" style="z-index:' + (i.controls ? 2 : 0) + ";" + h + 'position:absolute;left:0;top:0;"></div>';
        d(this._container).append(r);
        var a = u(e);
        if (a) {
            if (a["hd"]) {
                this._options["hd"] = true
            }
        }
        var l = "v=";
        var o = 1;
        if (e.match(/(youtube.com)/)) {
            l = "v=";
            o = 1
        }
        if (e.match(/(youtu.be)/)) {
            l = "/";
            o = 3
        }
        var _ = e.split(l)[o];
        _ = _.replace(/(&)+(.*)/, "");
        this._src = _;
        Object.defineProperty(this, "src", {
            get: this.getSrc
        })
    };
    var r = h.prototype;
    r.init = function() {
        this.player = new YT.Player(d(this._container).children(".pt-youtube-player").get(0), {
            videoId: this._src,
            width: this._options.width,
            height: this._options.height,
            playerVars: {
                autohide: 1,
                autoplay: 0,
                disablekb: 0,
                controls: this._options.controls ? 1 : 0,
                enablejsapi: 1,
                modestbranding: 1,
                showinfo: 0,
                rel: 0,
                wmode: "opaque",
                hd: this._options.hd ? 1 : 0
            },
            events: {
                onReady: this.onPlayerReady.bind(this),
                onStateChange: this.onPlayerStateChange.bind(this)
            }
        });
        if (this._options.autoplay) {
            this._needPlay = true;
            this._playerMgr.handlePlayer("play", this)
        }
    };
    r.onPlayerStateChange = function(t) {
        switch (t.data) {
            case -1:
                this._playerMgr.handlePlayer("pause", this);
                break;
            case 0:
                if (this._options.loop) {
                    this.player.playVideo()
                } else {
                    this._playerMgr.onEnd();
                    this._playerMgr.handlePlayer("end", this)
                }
                break;
            case 1:
                this._playerMgr.handlePlayer("play", this);
                break;
            case 2:
                this._playerMgr.handlePlayer("pause", this);
                break;
            case 3:
                break;
            case 4:
                break;
            case 5:
                break
        }
    };
    r.onPlayerReady = function(t) {
        var e = this._options.volume === undefined ? 1 : this._options.volume;
        if (this._options.autoplay) {
            this._needMute = true
        }
        this.player.setVolume(Math.floor(e * 100));
        d(this._container).animate({
            opacity: 1
        }, 400);
        if (this._callback) {
            this._callback.call(this._playerMgr)
        }
        this._isInited = true;
        this._playerMgr.onStart();
        if (this._options.volume === 0) {
            this.player.mute()
        }
        if (this._needPlay) {
            this._needPlay = false;
            this.play()
        }
        if (this._needPause) {
            this._needPause = false;
            this.pause()
        }
        if (this._needMute) {
            this._needMute = false;
            this.mute()
        }
    };
    r.play = function() {
        if (!this._isInited) {
            this._needPlay = true
        } else {
            this.player.playVideo();
            this._playerMgr.handlePlayer("play", this)
        }
    };
    r.pause = function() {
        if (!this._isInited) {
            this._needPause = true
        } else {
            this.player.pauseVideo();
            this._playerMgr.handlePlayer("pause", this)
        }
    };
    r.mute = function() {
        if (!this._options.volume) {
            return
        }
        if (!this._isInited) {
            this._needMute = true
        } else {
            this.player.mute();
            this._playerMgr.handlePlayer("mute", this)
        }
    };
    r.unMute = function() {
        if (!this._options.volume) {
            return
        }
        if (!this._isInited) {
            this._needMute = false
        } else {
            this.player.unMute();
            this._playerMgr.handlePlayer("unMute", this)
        }
    };
    r.getSrc = function() {
        return this._src
    };
    r.dispose = function() {
        this.pause();
        this._callback = null;
        this._playerMgr = null;
        if (this.player) {
            this.player.destroy();
            this.player = null
        }
    };
    var a = function(t, e, i, s, n) {
        this.type = "mp4";
        this._container = t;
        this._src = e;
        this._options = i;
        this._callback = s;
        this._playerMgr = n;
        this._loop = i.loop;
        this.player = null;
        Object.defineProperty(this, "src", {
            get: this.getSrc
        })
    };
    var l = a.prototype;
    l.init = function() {
        var t = this._options;
        var e = d(this._container);
        var i = t.volume != undefined ? t.volume : 1;
        var s = t.autoplay ? "autoplay" : "";
        var n = t.controls ? "controls" : "";
        var h = t.width != undefined ? 'width="' + t.width + '"' : "";
        var r = t.height != undefined ? 'height="' + t.height + '"' : "";
        var a = t.loop ? "loop" : "";
        var l = i === 0 || s ? "muted" : "";
        var o = [s, n, h, r, a, l];
        var _ = '<video src="' + this._src + '" ' + o.join(" ") + ' style="z-index:' + (t.controls ? 2 : 0) + ';"></video>';
        e.append(_);
        this.player = e.children("video").get(0);
        if (s) {
            this.player.volume = 0;
            this._playerMgr.handlePlayer("mute", this)
        } else {
            this.player.volume = i
        }
        this.player.onplay = this._onPlay.bind(this);
        this.player.onpause = this._onPause.bind(this);
        this.player.onended = this._onPlayEnd.bind(this);
        e.animate({
            opacity: 1
        }, 400);
        if (this._callback) {
            this._callback.call(this._playerMgr)
        }
        this._playerMgr.onStart();
        if (t.autoplay && !this.player.paused) {
            this._playerMgr.handlePlayer("play", this)
        }
    };
    l.play = function() {
        if (this.player) {
            this.player.play()
        }
        this._playerMgr.handlePlayer("play", this)
    };
    l.pause = function() {
        if (this.player) {
            this.player.pause()
        }
        this._playerMgr.handlePlayer("pause", this)
    };
    l.mute = function() {
        if (!this._options.volume) {
            return
        }
        if (this.player) {
            this.player.muted = true
        }
        this._playerMgr.handlePlayer("mute", this)
    };
    l.unMute = function() {
        if (!this._options.volume) {
            return
        }
        if (this.player) {
            this.player.muted = false;
            if (this.player.volume === 0) {
                this.player.volume = this._options.volume
            }
        }
        this._playerMgr.handlePlayer("unMute", this)
    };
    l._onPlay = function(t) {
        this._playerMgr.handlePlayer("play", this)
    };
    l._onPause = function(t) {
        this._playerMgr.handlePlayer("pause", this)
    };
    l._onPlayEnd = function(t) {
        if (!this._loop) {
            this._playerMgr.onEnd()
        }
        this._playerMgr.handlePlayer("end", this)
    };
    l.getSrc = function() {
        return this._src
    };
    l.dispose = function() {
        this.pause();
        if (this.player) {
            this.player.onplay = null;
            this.player.onpause = null;
            this.player.onended = null;
            this.player = null
        }
        this._callback = null;
        this._playerMgr = null
    };
    var o = function(t, e) {
        this._element = t;
        t.style.overflow = "hidden";
        t.__ptMediaPlayer = this;
        var i = {};
        this._options = i;
        for (var s in e) {
            if (e.hasOwnProperty(s)) {
                i[s] = e[s]
            }
        }
        if (i.full === undefined) {
            i.full = true
        }
        if (i.mask === undefined) {
            i.mask = true
        }
        this._src = i.src;
        this._type = i.type;
        this._fullshow = i.full;
        this._onStartHandler = i.onStart || null;
        this._onEndHandler = i.onEnd || null;
        this.$volumeBtn = i.volumeBtn ? d(t).find(i.volumeBtn) : null;
        if (this.$volumeBtn && this.$volumeBtn.length === 0) {
            this.$volumeBtn = d(t).siblings(i.volumeBtn)
        }
        this._hasVolumeBtn = this.$volumeBtn && this.$volumeBtn.length > 0;
        this._playingClass = i.playingClass || "pt-media-playing";
        var n = '<div class="pt-video-container" style="width:100%;height:100%;position:relative;z-index:999;"></div>';
        this._container = d(n).get(0);
        this.$container = d(this._container);
        t.appendChild(this._container);
        var h = this._fullshow ? "" : "width:100%;height:100%;";
        var r = '<div class="pt-video-holder ' + (this._fullshow ? "full" : "not-full") + '" style="position:relative;opacity:0;' + h + '"></div>';
        this._holder = d(r).get(0);
        this.$holder = d(this._holder);
        this._container.appendChild(this._holder);
        if (i.mask) {
            var a = '<div class="pt-video-mask" style="width:100%;height:100%;z-index:1;overflow:hidden;position:absolute;top:0;left:0;"></div>';
            this.$container.append(a)
        }
        this._resizeHandler = this._onResize.bind(this);
        var l = d(t);
        if (l.data("type") !== undefined) {
            this._type = l.data("type")
        }
        if (l.data("src") !== undefined) {
            this._src = l.data("src")
        }
        if (l.data("volume") !== undefined) {
            i.volume = l.data("volume")
        }
        if (l.data("loop") !== undefined) {
            i.loop = l.data("loop")
        }
        if (l.data("autoplay") !== undefined) {
            i.autoplay = l.data("autoplay")
        }
        if (l.data("controls") !== undefined) {
            i.controls = l.data("controls")
        }
        if (i.volume === 0) {
            this._hasVolumeBtn = false;
            if (this.$volumeBtn && this.$volumeBtn.length > 0) {
                this.$volumeBtn.remove()
            }
        }
        if (this._hasVolumeBtn) {
            this.$volumeBtn.on("click", this._onToggleVolume.bind(this))
        }
        var o = u(this._src);
        if (o) {
            o.width = o.width || o.w || o.mw;
            o.height = o.height || o.h || o.mh;
            if (o.width !== undefined) {
                i.width = o.width
            }
            if (o.height !== undefined) {
                i.height = o.height
            }
        }
        if (i.width === undefined) {
            i.width = 640
        }
        if (i.height === undefined) {
            i.height = 360
        }
        i.width = parseInt(i.width);
        i.height = parseInt(i.height);
        this.$container.data("videoWidth", i.width);
        this.$container.data("videoHeight", i.height);
        this.player = null;
        this._vimeoJSId = "__pt_vimeo_api";
        this._youtubeJSId = "__pt_youtube_api";
        this._allowCalls = ["dispose", "play", "pause", "mute", "unMute"];
        this._isMobile = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
        if (this._isMobile) {
            i.mask = false
        }
        if ((i.ignoreMobile || window.mpIgnoreMobile) && this._isMobile) {} else if (this._src) {
            this.init()
        }
    };
    var _ = o.prototype;
    _.init = function() {
        var t = this._options;
        switch (this._type) {
            case "mp4":
            case "1":
            case 1:
                this._type = "mp4";
                this.player = new a(this._holder, this._src, t, this._onResize, this);
                this.player.init();
                break;
            case "youtube":
            case "2":
            case 2:
                this._type = "youtube";
                this.player = new h(this._holder, this._src, t, this._onResize, this);
                if (n.youtubeApiReady) {
                    this.player.init()
                } else {
                    if (!n.youtubeWaitingPlayers) {
                        n.youtubeWaitingPlayers = []
                    }
                    n.youtubeWaitingPlayers.push(this.player);
                    if (!document.getElementById(this._youtubeJSId)) {
                        this._insertJS("https://www.youtube.com/iframe_api", null, this._youtubeJSId)
                    }
                }
                break;
            case "vimeo":
            case "3":
            case 3:
                this._type = "vimeo";
                this.player = new s(this._holder, this._src, t, this._onResize, this);
                if (n.vimeoApiReady) {
                    this.player.init()
                } else {
                    if (!n.vimeoWaitingPlayers) {
                        n.vimeoWaitingPlayers = []
                    }
                    n.vimeoWaitingPlayers.push(this.player);
                    if (!document.getElementById(this._vimeoJSId)) {
                        this._insertJS("https://player.vimeo.com/api/player.js", e, this._vimeoJSId)
                    }
                }
                break;
            default:
                this._type = "mp4";
                this.player = new a(this._holder, this._src, t, this._onResize, this);
                break
        }
        if (this._fullshow) {
            d(i).on("resize", this._resizeHandler)
        }
    };
    _.onStart = function() {
        if (this._onStartHandler) {
            this._onStartHandler(this._element, this.player)
        }
    };
    _.onEnd = function() {
        if (this._onEndHandler) {
            this._onEndHandler(this._element, this.player)
        }
    };
    _.handlePlayer = function(t, e) {
        var i = n.playingPlayers;
        switch (t) {
            case "play":
                if (i.indexOf(e) === -1) {
                    i.push(e);
                    if (n.onStatusChanged) {
                        n.onStatusChanged(true, t)
                    }
                }
                d("body").addClass(this._playingClass);
                break;
            case "pause":
            case "end":
                var s = i.indexOf(e);
                if (s > -1) {
                    i.splice(s, 1);
                    if (n.onStatusChanged) {
                        n.onStatusChanged(i.length > 0, t)
                    }
                }
                if (i.length <= 0) {
                    d("body").removeClass(this._playingClass)
                }
                break;
            case "mute":
                d(this._element).addClass("pt-mediaplayer-muted");
                break;
            case "unMute":
                d(this._element).removeClass("pt-mediaplayer-muted");
                break
        }
    };
    _._onToggleVolume = function(t) {
        if (d(this._element).hasClass("pt-mediaplayer-muted")) {
            this.unMute()
        } else {
            this.mute()
        }
    };
    _._onResize = function(t) {
        if (!this._fullshow) {
            return
        }
        var e = this.$container;
        var i = this.$holder;
        var s = e.data("videoWidth");
        var n = e.data("videoHeight");
        var h = this._container.clientWidth;
        var r = this._container.clientHeight;
        var a = Math.max(h / (s - 5), r / (n - 5));
        var l, o, _, d;
        if (this._type == "mp4") {
            _ = s * a;
            d = n * a;
            l = (h - _ >> 1) - 1;
            o = (r - d >> 1) - 1;
            i.css({
                left: l + "px",
                top: o + "px",
                width: _ + 2 + "px",
                height: d + 2 + "px"
            })
        } else {
            var u = i.find("iframe");
            _ = s * a + 2;
            d = n * a + 2;
            l = (h - _ >> 1) - 1;
            o = (r - d >> 1) - 1;
            u.css({
                width: _ + "px",
                height: d + "px"
            });
            i.css({
                left: l + "px",
                top: o + "px"
            })
        }
    };
    _._insertJS = function(t, e, i) {
        var s = document.createElement("script");
        if (e) {
            if (s.readyState) {
                s.onreadystatechange = function() {
                    if (s.readyState === "loaded" || s.readyState === "complete") {
                        s.onreadystatechange = null;
                        e()
                    }
                }
            } else {
                s.onload = function() {
                    e()
                }
            }
        }
        s.src = t;
        if (i) {
            s.id = i
        }
        var n = document.getElementsByTagName("script")[0];
        if (n) {
            n.parentNode.insertBefore(s, n)
        } else {
            var h = document.getElementsByTagName("head")[0];
            h.appendChild(s)
        }
    };
    _.play = function() {
        this.player.play()
    };
    _.pause = function() {
        this.player.pause()
    };
    _.mute = function() {
        this.player.mute()
    };
    _.unMute = function() {
        this.player.unMute()
    };
    _.execute = function(t, e) {
        if (!this.player || !t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (e && !Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i == "function") {
            i.apply(this, e || [])
        }
    };
    _.dispose = function(t) {
        if (this.player) {
            var e;
            if (n.vimeoWaitingPlayers) {
                e = n.vimeoWaitingPlayers.indexOf(this.player);
                if (e > -1) {
                    n.vimeoWaitingPlayers.splice(e, 1)
                }
            }
            if (n.vimeoWaitingPlayers) {
                e = n.vimeoWaitingPlayers.indexOf(this.player);
                if (e > -1) {
                    n.vimeoWaitingPlayers.splice(e, 1)
                }
            }
            this.player.dispose();
            this.player = null
        }
        if (this.$volumeBtn && this.$volumeBtn.length > 0) {
            this.$volumeBtn.off("click")
        }
        if (t) {
            this.$container.remove()
        }
        if (this._resizeHandler) {
            d(i).off("resize", this._resizeHandler);
            this._resizeHandler = null
        }
        if (this._element) {
            this._element.__ptMediaPlayer = null;
            this._element = null
        }
    };
    d.fn.extend({
        ptMediaPlayer: function(e) {
            this.each(function() {
                var t = this.__ptMediaPlayer;
                t && t.dispose();
                new o(this, e)
            });
            return this
        },
        ptMediaPlayerCall: function(e, i) {
            this.each(function() {
                var t = this.__ptMediaPlayer;
                t && t.execute(e, i)
            });
            return this
        }
    })
}(jQuery, window);
! function(s, n) {
    "use strict";
    var i = [];
    var h = function(t, e) {
        i.push(this);
        this._element = t;
        this.$element = s(t);
        t.__ptAreaRoll = this;
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        this._moveRatio = e.moveRatio == undefined ? .8 : e.moveRatio;
        this._animateTime = e.animateTime == undefined ? 500 : e.animateTime;
        this._easing = e.easing == undefined ? "quartOut" : e.easing;
        this._useWheel = e.useWheel == undefined ? true : e.useWheel;
        this._winWidth = 0;
        this._targetHeight = 0;
        this._eleHeight = 0;
        this._moveDistance = 0;
        this._y = 0;
        this._tweenValue = 0;
        this._allowCalls = ["dispose", "resize"];
        this._isDevice = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
        if (this._isDevice) {
            this._useWheel = false;
            this.$element.addClass("pt-area-roll-device")
        }
        this._clickEvt = this._isDevice ? "touchend mouseup" : "click";
        this._onResizeHandler = this._onResize.bind(this);
        this._onWheelHandler = this._onWheel.bind(this);
        this._onTweenUpdateHandler = this._onTweenUpdate.bind(this);
        this.$target = null;
        this.$wrap = null;
        this.$prevBtn = null;
        this.$nextBtn = null;
        this._init()
    };
    var t = h.prototype;
    t._init = function() {
        var i = this.$element;
        i.wrapInner('<div class="pt-area-roll-inner"></div>');
        i.wrap('<div class="pt-area-roll-wrap"></div>');
        i.on("scroll", function(t) {
            var e = i.scrollTop();
            this._y = -e;
            this._updateButtonState(this._y)
        }.bind(this));
        this.$target = i.children(".pt-area-roll-inner");
        var t = i.parent();
        this.$wrap = t;
        var e = '<div class="pt-area-roll-up pt-area-roll-btn"></div>';
        e += '<div class="pt-area-roll-down pt-area-roll-btn"></div>';
        t.append(e);
        this.$prevBtn = t.children(".pt-area-roll-up");
        this.$nextBtn = t.children(".pt-area-roll-down");
        this.$prevBtn.on(this._clickEvt, this._onPrev.bind(this));
        this.$nextBtn.on(this._clickEvt, this._onNext.bind(this));
        s(n).on("resize", this._onResizeHandler);
        this._onResize()
    };
    t._onResize = function(t) {
        var e = s(n).width();
        if (t) {
            if (this._winWidth === e) {
                return
            }
        }
        this._winWidth = e;
        this._targetHeight = this.$target.height();
        this._eleHeight = s(this._element).height();
        this._moveDistance = Math.ceil(this._eleHeight * this._moveRatio);
        if (this._useWheel) {
            if (this._targetHeight > this._eleHeight) {
                this._element.addEventListener("wheel", this._onWheelHandler, true)
            } else {
                this._element.removeEventListener("wheel", this._onWheelHandler, true)
            }
        }
        if (this._y >= 0) {
            this._y = 0
        }
        if (this._y <= this._eleHeight - this._targetHeight) {
            this._y = this._eleHeight - this._targetHeight
        }
        this._render(false)
    };
    t.resize = function() {
        this._onResize()
    };
    t._onWheel = function(t) {
        if (this._eleHeight >= this._targetHeight) {
            return
        }
        if (t.deltaY < 0) {
            if (this._y >= 0) {
                return
            }
            t.preventDefault();
            this._onPrev()
        } else if (t.deltaY > 0) {
            if (this._y <= this._eleHeight - this._targetHeight) {
                return
            }
            t.preventDefault();
            this._onNext()
        }
    };
    t._onPrev = function(t) {
        if (t) {
            t.preventDefault();
            t.stopPropagation()
        }
        if (this._eleHeight >= this._targetHeight) {
            return
        }
        if (this._y >= 0) {
            return
        }
        this._y += this._moveDistance;
        if (this._y >= 0) {
            this._y = 0
        }
        this._render(true)
    };
    t._onNext = function(t) {
        if (t) {
            t.preventDefault();
            t.stopPropagation()
        }
        if (this._eleHeight >= this._targetHeight) {
            return
        }
        if (this._y <= this._eleHeight - this._targetHeight) {
            return
        }
        this._y -= this._moveDistance;
        if (this._y <= this._eleHeight - this._targetHeight) {
            this._y = this._eleHeight - this._targetHeight
        }
        this._render(true)
    };
    t._render = function(t) {
        if (this._isDevice) {
            if (t) {
                this._tweenValue = this.$element.scrollTop();
                createjs.Tween.get(this, {
                    override: true,
                    onChange: this._onTweenUpdateHandler
                }).to({
                    _tweenValue: -this._y
                }, this._animateTime, createjs.Ease[this._easing] || createjs.Ease.cubicOut)
            } else {
                this.$element.scrollTop(-this._y)
            }
        } else {
            if (t) {
                this._tweenValue = parseInt(this.$target.css("top"));
                createjs.Tween.get(this, {
                    override: true,
                    onChange: this._onTweenUpdateHandler
                }).to({
                    _tweenValue: this._y
                }, this._animateTime, createjs.Ease[this._easing] || createjs.Ease.cubicOut)
            } else {
                this.$target.css("top", this._y + "px")
            }
        }
        this._updateButtonState(this._y)
    };
    t._onTweenUpdate = function(t) {
        if (this._isDevice) {
            this.$element.scrollTop(this._tweenValue)
        } else {
            this.$target.css("top", this._tweenValue + "px")
        }
    };
    t._updateButtonState = function(t) {
        if (this._eleHeight >= this._targetHeight) {
            this.$prevBtn.addClass("disabled");
            this.$nextBtn.addClass("disabled");
            this.$wrap.addClass("no-roll")
        } else if (t >= 0) {
            this.$prevBtn.addClass("disabled");
            this.$nextBtn.removeClass("disabled");
            this.$wrap.removeClass("no-roll")
        } else if (t <= this._eleHeight - this._targetHeight) {
            this.$prevBtn.removeClass("disabled");
            this.$nextBtn.addClass("disabled");
            this.$wrap.removeClass("no-roll")
        } else {
            this.$prevBtn.removeClass("disabled");
            this.$nextBtn.removeClass("disabled");
            this.$wrap.removeClass("no-roll")
        }
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (e && !Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i == "function") {
            i.apply(this, e || [])
        }
    };
    t.dispose = function() {
        this.$prevBtn && this.$prevBtn.off(this._clickEvt);
        this.$nextBtn && this.$nextBtn.off(this._clickEvt);
        this.$target && this.$target.stop();
        if (this._element) {
            if (this._useWheel) {
                this._element.removeEventListener("wheel", this._onWheelHandler, true)
            }
            this._element.__ptAreaRoll = null;
            this._element = null
        }
        createjs.Tween.removeTweens(this);
        this._onWheelHandler = null;
        this._onTweenUpdateHandler = null;
        var t = i.indexOf(this);
        if (t > -1) {
            i.splice(t, 1)
        }
    };
    s.fn.extend({
        ptAreaRoll: function(e) {
            this.each(function() {
                var t = this.__ptAreaRoll;
                t && t.dispose();
                new h(this, e || {})
            });
            return this
        },
        ptAreaRollCall: function(e, i) {
            this.each(function() {
                var t = this.__ptAreaRoll;
                t && t.execute(e, i)
            });
            return this
        }
    });
    n.addEventListener("load", function(t) {
        i.forEach(function(t) {
            t && t.resize()
        })
    })
}(jQuery, window);
! function(o, _) {
    "use strict";
    var i = function(t, e) {
        this._element = t;
        t.__ptSwipe = this;
        this.$element = o(this._element);
        e = e || {};
        this._options = e;
        this._ease = e.ease || "cubicOut";
        this._dragEase = e.dragEase || "quartOut";
        this._speed = e.speed === undefined ? 350 : e.speed;
        this._tweenOutOffset = e.tweenOutOffset || 0;
        this._autoplay = e.autoplay === undefined ? true : e.autoplay;
        this._isPaused = false;
        this._prevMovingClass = "prev-moving";
        this._nextMovingClass = "next-moving";
        this._onSwipeBefore = e.onSwipeBefore || null;
        this._onSwipeAfter = e.onSwipeAfter || null;
        this._duration = this.$element.data("duration") || 5e3;
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        this._isIE9 = navigator.userAgent.indexOf("MSIE 9.0") > -1;
        var i = null;
        if (e.wrapTarget && typeof e.wrapTarget === "object") {
            i = o(e.wrapTarget)
        } else {
            i = this.$element.find(e.wrapTarget || ".wrap")
        }
        this.$content = i;
        var s = null;
        if (e.itemTarget && typeof e.itemTarget === "object") {
            s = o(e.itemTarget)
        } else if (e.itemTarget) {
            s = this.$content.find(e.itemTarget)
        }
        this._itemClass = typeof e.itemTarget === "string" ? e.itemTarget : "";
        if (this._itemClass.indexOf(".") === 0) {
            this._itemClass = this._itemClass.substring(1)
        }
        this.$items = s;
        s.css({
            position: "absolute",
            top: "0"
        });
        s.each(function(t, e) {
            o(e).css("z-index", t).attr("data-index", t)
        });
        var n = this.$element.data("prevLabel") || "";
        var h = this.$element.data("nextLabel") || "";
        var r = s.length;
        var a = '<div class="pt-swipe-arrow">';
        a += '<span class="pt-swipe-prev">' + n + '</span><span class="pt-swipe-next">' + h + "</span></div>";
        a += '<div class="pt-swipe-dots"><ul>';
        for (var l = 0; l < r; l++) {
            a += "<li>" + (l + 1) + "</li>"
        }
        a += "</ul>";
        this.$element.append(a);
        this.$element.find(".pt-swipe-prev").on("click", this._onPrev.bind(this));
        this.$element.find(".pt-swipe-next").on("click", this._onNext.bind(this));
        this.$dotList = this.$element.find(".pt-swipe-dots>ul>li");
        this.$dotList.on("click", this._onClickDot.bind(this));
        this._disposed = false;
        this._isTweening = false;
        this._isDragging = false;
        this._dargScale = .3;
        this._dragDistance = 50;
        this._timerId = -1;
        this._allowCalls = ["setAutoplay", "prev", "next", "pause", "resume", "dispose"];
        this._currentIndex = 0;
        this._totalCount = r;
        this._onResizeHandler = this._onResize.bind(this);
        o(_).on("resize", this._onResizeHandler);
        this._isDevice = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
        this._clickEvt = this._isDevice ? "touchend mouseup" : "click";
        this._downEvt = "touchstart mousedown";
        this._moveEvt = "touchmove mousemove";
        this._upEvt = "touchend mouseup";
        this._onDraggingHandler = this._onDragging.bind(this);
        this._onDragEndHandler = this._onDragEnd.bind(this);
        s.on(this._downEvt, this._onStartDrag.bind(this));
        this._onResize();
        if (this._totalCount > 0) {
            this._open(0)
        }
        if (e.onInit && typeof e.onInit === "function") {
            e.onInit.apply(this, null)
        }
    };
    var t = i.prototype;
    t._onResize = function(t) {
        this._width = this.$content.width()
    };
    t._onStartDrag = function(t) {
        if (!this._isDevice && this._itemClass && !o(t.target).hasClass(this._itemClass)) {
            return
        }
        if (this._isTweening || this._isDragging) {
            return
        }
        this._isDragging = true;
        if (this._timerId > -1) {
            clearTimeout(this._timerId)
        }
        var e = t.originalEvent;
        var i = e.currentTarget;
        this._dragTarget = i;
        o(_).off(this._moveEvt, this._onDraggingHandler).on(this._moveEvt, this._onDraggingHandler);
        o(_).off(this._upEvt, this._onDragEndHandler).on(this._upEvt, this._onDragEndHandler);
        this._oldMouseX = this._getMouseX(e);
        this._currentX = 0;
        this._startDragX = this._currentX
    };
    t._onDragging = function(t) {
        var e = t.originalEvent;
        var i = this._getMouseX(e);
        this._currentX += i - this._oldMouseX;
        this._oldMouseX = i;
        this._renderX(o(this._dragTarget), this._currentX * this._dargScale);
        var s, n;
        if (this._currentX > 0) {
            s = this._currentIndex - 1;
            if (s < 0) {
                s = this._totalCount - 1
            }
            n = -this._width + this._currentX * this._dargScale
        } else if (this._currentX < 0) {
            s = this._currentIndex + 1;
            if (s > this._totalCount - 1) {
                s = 0
            }
            n = this._width + this._currentX * this._dargScale
        }
        this.$items.removeClass("leaving");
        var h = this.$items.get(s);
        o(h).addClass("leaving");
        this._renderX(o(h), n)
    };
    t._onDragEnd = function(t) {
        o(_).off(this._moveEvt, this._onDraggingHandler);
        o(_).off(this._upEvt, this._onDragEndHandler);
        if (this._dragTarget) {
            this._dragTarget.__tweenX = this._currentX * this._dargScale
        }
        var e = this._currentX - this._startDragX;
        if (e < -this._dragDistance) {
            this._onNext();
            this._isDragging = false
        } else if (e > this._dragDistance) {
            this._onPrev();
            this._isDragging = false
        } else {
            this._dragBack()
        }
        this._dragTarget = null
    };
    t._getMouseX = function(t) {
        var e;
        if (this._isDevice) {
            var i = t.changedTouches,
                s;
            s = i[0];
            if (s) {
                e = s.pageX
            } else {
                e = t.pageX !== undefined ? t.pageX : t.clientX
            }
        } else {
            e = t.pageX !== undefined ? t.pageX : t.clientX
        }
        return e
    };
    t._dragBack = function() {
        createjs.Tween.get(this._dragTarget, {
            override: true,
            onChange: this._onUpdate.bind(this)
        }).to({
            __tweenX: 0
        }, 300, createjs.Ease.sineOut).call(this._onDragBack.bind(this))
    };
    t._onUpdate = function(t) {
        var e = t.target;
        var i = e.target;
        this._renderX(o(i), i.__tweenX)
    };
    t._onDragBack = function() {
        this._isDragging = false;
        this._checkAutoplay()
    };
    t._open = function(t, e) {
        if (this._isTweening) {
            return
        }
        this.$items.removeClass("current leaving");
        this.$dotList.removeClass("selected");
        o(this.$dotList.get(t)).addClass("selected");
        var i = this.$items.get(t);
        o(i).addClass("current");
        if (t === this._currentIndex) {
            var s = o(i);
            this._bringToTop(i);
            this._renderX(s, 0);
            this._checkAutoplay();
            return
        }
        var n = this._currentIndex;
        this._currentIndex = t;
        var h = this.$items.get(n);
        o(h).addClass("leaving");
        if (e === undefined) {
            e = t > n ? 1 : -1
        }
        this._isTweening = true;
        var r = e < 0 ? this._prevMovingClass : this._nextMovingClass;
        this.$element.removeClass(this._prevMovingClass).removeClass(this._nextMovingClass).addClass(r);
        if (this._onSwipeBefore) {
            this._onSwipeBefore.call(this, null)
        }
        this._tweenOut(h, e);
        this._tweenIn(i, e)
    };
    t._tweenIn = function(t, e) {
        var i = e > 0 ? this._width : -this._width;
        if (this._isDragging) {
            i = t.__renderingX || 0
        }
        this._renderX(o(t), i);
        t.__tweenValue = i;
        this._bringToTop(t);
        this._tweenX(t, 0, true)
    };
    t._tweenOut = function(t, e) {
        var i = e > 0 ? -this._width : this._width;
        var s = t.__renderingX || 0;
        t.__tweenValue = this._isDragging ? s : 0;
        this._bringToTop(t);
        if (e > 0) {
            i += this._tweenOutOffset * this._width
        } else {
            i -= this._tweenOutOffset * this._width
        }
        this._tweenX(t, this._isDragging ? i + s : i, false)
    };
    t._tweenX = function(t, e, i) {
        var s = createjs.Tween.get(t, {
            override: true,
            onChange: this._onAniUpdate.bind(this)
        });
        s.to({
            __tweenValue: e
        }, this._speed, this._isDragging ? createjs.Ease[this._dragEase] || createjs.Ease.quartOut : createjs.Ease[this._ease] || createjs.Ease.cubicOut);
        if (i) {
            s.call(this._onAniComplete.bind(this))
        }
    };
    t._onAniUpdate = function(t) {
        var e = t.target;
        var i = e.target;
        this._renderX(o(i), i.__tweenValue)
    };
    t._onAniComplete = function() {
        this._isTweening = false;
        this.$element.removeClass(this._prevMovingClass).removeClass(this._nextMovingClass);
        this.$items.removeClass("leaving");
        if (this._onSwipeAfter) {
            this._onSwipeAfter.call(this, null)
        }
        this._checkAutoplay()
    };
    t._renderX = function(t, e) {
        if (this._isDragging && t.get(0)) {
            t.get(0).__renderingX = e
        }
        if (this._isIE9) {
            t.css("-ms-transform", "translateX(" + e + "px)")
        } else {
            t.css("transform", "translate3d(" + e + "px,0,0)")
        }
    };
    t._bringToTop = function(t) {
        var e = [];
        this.$items.each(function() {
            if (this !== t) {
                e.push(this)
            }
        });
        e.forEach(function(t, e) {
            o(t).css("z-index", e)
        });
        o(t).css("z-index", e.length)
    };
    t._checkAutoplay = function() {
        if (!this._autoplay) {
            return
        }
        if (this._isPaused) {
            return
        }
        if (this._timerId > -1) {
            clearTimeout(this._timerId)
        }
        this._timerId = setTimeout(function() {
            this._timerId = -1;
            this._onNext()
        }.bind(this), this._duration)
    };
    t._onPrev = function(t) {
        if (this._isTweening) {
            return
        }
        var e = this._currentIndex - 1;
        if (e < 0) {
            e = this._totalCount - 1
        }
        this._open(e, -1)
    };
    t._onNext = function(t) {
        if (this._isTweening) {
            return
        }
        var e = this._currentIndex + 1;
        if (e > this._totalCount - 1) {
            e = 0
        }
        this._open(e, 1)
    };
    t._onClickDot = function(t) {
        if (o(t.currentTarget).hasClass("selected")) {
            return
        }
        var e = o(t.currentTarget).index();
        this._open(e)
    };
    t.prev = function() {
        this._onPrev()
    };
    t.next = function() {
        this._onNext()
    };
    t.setAutoplay = function(t) {
        this._autoplay = t;
        if (t) {
            if (this._timerId < 0) {
                this._checkAutoplay()
            }
        } else {
            if (this._timerId > 0) {
                clearTimeout(this._timerId);
                this._timerId = -1
            }
        }
    };
    t.pause = function() {
        this._isPaused = true;
        if (this._timerId > 0) {
            clearTimeout(this._timerId);
            this._timerId = -1
        }
    };
    t.resume = function() {
        this._isPaused = false;
        this._checkAutoplay()
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return
        }
        if (!Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i === "function") {
            i.apply(this, e)
        }
    };
    t.dispose = function() {
        if (this._disposed) return;
        this._disposed = true;
        this._onSwipeBefore = null;
        this._onSwipeAfter = null;
        o(_).off("resize", this._onResizeHandler);
        this._onResizeHandler = null;
        this.$content.off(this._upEvt).off(this._moveEvt).off(this._downEvt);
        if (this._element) {
            this.$element.find(".pt-swipe-prev").off("click");
            this.$element.find(".pt-swipe-next").off("click");
            this.$dotList.off("click");
            this._element.__ptSwipe = null;
            this._element = null
        }
    };
    o.fn.extend({
        ptSwipe: function(e) {
            this.each(function() {
                var t = this.__ptSwipe;
                t && t.dispose();
                new i(this, e)
            });
            return this
        },
        ptSwipeCall: function(e, i) {
            this.each(function() {
                var t = this.__ptSwipe;
                t && t.execute(e, i)
            });
            return this
        }
    })
}(jQuery, window);
! function(n, h) {
    "use strict";
    var r = [];
    var i = function(t, e) {
        r.push(this);
        this._element = t;
        this._element.__ptBar = this;
        var i = n(this._element);
        this.$element = i;
        this.$content = i.find(e.contentTarget || ".content");
        this._content = this.$content.get(0);
        var s = n('<div class="pt-bar-group">' + '<div class="pt-bar"></div>' + "</div>");
        i.append(s);
        this.$barTarget = s.find(".pt-bar");
        this.$barTarget.on("mousedown", this._onStartDrag.bind(this));
        this._oldMouseY = 0;
        this._currentY = 0;
        this._containerHeight = 0;
        this._scrollRectHeight = 0;
        this._barHeight = 0;
        this._contentHeight = 0;
        this._offsetHeight = 0;
        this._disposed = false;
        this._isDragging = false;
        this._allowCalls = ["resize"];
        this._onResizeHandler = this._onResize.bind(this);
        this._onDraggingHandler = this._onDragging.bind(this);
        this._onStopDragHandler = this._onStopDrag.bind(this);
        n(h).on("resize", this._onResizeHandler);
        this.$content.on("scroll", this._onScroll.bind(this));
        this._onResize()
    };
    var t = i.prototype;
    t._onResize = function(t) {
        this._barHeight = this.$barTarget.height();
        this._containerHeight = this.$element.height();
        this._scrollRectHeight = this._containerHeight - this._barHeight;
        this._contentHeight = this._content.scrollHeight;
        this._offsetHeight = this._contentHeight - this._containerHeight;
        if (this._offsetHeight <= 1) {
            this.$element.addClass("no-roll")
        } else {
            this.$element.removeClass("no-roll")
        }
    };
    t._onStartDrag = function(t) {
        if (this._contentHeight <= this._containerHeight) {
            return
        }
        this._isDragging = true;
        t.preventDefault();
        t.stopPropagation();
        var e = n(h);
        e.off("mousemove", this._onDraggingHandler).on("mousemove", this._onDraggingHandler);
        e.off("mouseup", this._onStopDragHandler).on("mouseup", this._onStopDragHandler);
        this._oldMouseY = t.pageY === undefined ? t.clientY : t.pageY;
        var i = this._content.scrollTop;
        var s = i / this._offsetHeight;
        this._currentY = this._scrollRectHeight * s
    };
    t._onDragging = function(t) {
        if (this._contentHeight <= this._containerHeight) {
            return
        }
        t.preventDefault();
        t.stopPropagation();
        var e = t.pageY === undefined ? t.clientY : t.pageY;
        this._currentY += e - this._oldMouseY;
        this._oldMouseY = e;
        if (this._currentY < 0) {
            this._currentY = 0
        } else if (this._currentY > this._scrollRectHeight) {
            this._currentY = this._scrollRectHeight
        }
        var i = this._currentY / this._scrollRectHeight;
        this.$barTarget.css("transform", "translate3d(0, " + this._currentY + "px, 0)");
        this._content.scrollTop = i * this._offsetHeight
    };
    t._onStopDrag = function(t) {
        t.preventDefault();
        t.stopPropagation();
        this._isDragging = false;
        var e = n(h);
        e.off("mousemove", this._onDraggingHandler);
        e.off("mouseup", this._onStopDragHandler)
    };
    t._onScroll = function(t) {
        if (this._isDragging) return;
        if (this._contentHeight <= this._containerHeight) {
            return
        }
        var e = this._content.scrollTop;
        var i = e / this._offsetHeight;
        var s = this._scrollRectHeight * i;
        this.$barTarget.css("transform", "translate3d(0, " + s + "px, 0)")
    };
    t.resize = function() {
        if (this._disposed) return;
        this._onResize()
    };
    t.execute = function(t, e) {
        if (!t || this._allowCalls.indexOf(t) < 0) {
            return null
        }
        if (!Array.isArray(e)) {
            e = [e]
        }
        var i = this[t];
        if (i && typeof i === "function") {
            return i.apply(this, e)
        }
        return null
    };
    t.dispose = function() {
        if (this._disposed) return;
        this._disposed = true;
        var t = n(h);
        if (this._onResizeHandler) {
            t.off("resize", this._onResizeHandler);
            this._onResizeHandler = null
        }
        if (this._element) {
            this.$element.off("mouseenter mouseleave mousemove wheel");
            this._element.__ptBar = null;
            this._element = null
        }
        this.$barTarget.off("mousedown", this._onStartDragHandler);
        t.off("mousemove", this._onDraggingHandler);
        t.off("mouseup", this._onStopDragHandler);
        if (this.$content) {
            this.$content.off("scroll")
        }
        this._onStartDragHandler = null;
        this._onDraggingHandler = null;
        this._onStopDragHandler = null;
        var e = r.indexOf(this);
        if (e > -1) {
            r.splice(e, 1)
        }
    };
    n.fn.extend({
        ptBar: function(e) {
            this.each(function() {
                var t = this.__ptBar;
                t && t.dispose();
                new i(this, e)
            });
            return this
        },
        ptBarCall: function(i, s) {
            var n = [];
            this.each(function() {
                var t = this.__ptBar;
                var e = t && t.execute(i, s);
                n.push({
                    target: this,
                    value: e
                })
            });
            return n
        }
    });
    h.addEventListener("load", function(t) {
        r.forEach(function(t) {
            t && t.resize()
        })
    })
}(jQuery, window);
! function(o, _) {
    "use strict";
    var s = function(t, e) {
        this._element = t;
        this._element.__ptParallax = this;
        this.$element = o(t);
        createjs.Ticker.timingMode = createjs.Ticker.RAF;
        this._targetQuery = e.target || ".item";
        this._addClass = e.addClass || "pt-parallax";
        this._addTargetClass = e.addTargetClass || "pt-parallax-target";
        this._useAnimate = e.useAnimate == undefined ? true : e.useAnimate;
        this._animateTime = e.animateTime == undefined ? 500 : e.animateTime;
        this._animateEasing = e.animateEasing || createjs.Ease.cubicOut;
        this._offset = parseFloat(this.$element.data("offset") || 0) || 0;
        this._direct = this.$element.data("direct") == "1" ? 1 : 0;
        if (this._offset < 0) {
            this._offset = 0
        }
        this._eleWidth = 0;
        this._eleHeight = 0;
        this._targetHeight = 0;
        this._offsetHeight = 0;
        this._forceAnimate = false;
        if (this._addClass.indexOf(".") == 0) {
            this._addClass = this._addClass.substring(1)
        }
        if (this._addTargetClass.indexOf(".") == 0) {
            this._addTargetClass = this._addTargetClass.substring(1)
        }
        this.$element.addClass(this._addClass);
        this._onResizeHandler = null;
        this._onScrollHandler = null;
        this._onAniUpdateHandler = null;
        this._aniValue = 0;
        this.$target = this.$element.find(this._targetQuery);
        if (this.$target.length > 0) {
            this._init()
        }
    };
    var t = s.prototype;
    t._init = function() {
        if (this._addTargetClass) {
            this.$target.addClass(this._addTargetClass)
        }
        var t = o(_);
        this._onResizeHandler = this._onResize.bind(this);
        t.on("resize", this._onResizeHandler);
        this._onScrollHandler = this._onScroll.bind(this);
        t.on("scroll", this._onScrollHandler);
        this._onAniUpdateHandler = this._onAniUpdate.bind(this);
        this._onResize()
    };
    t._onResize = function(t) {
        var e = o(_).height();
        this._eleWidth = this._element.clientWidth;
        this._eleHeight = this._element.clientHeight;
        this._targetHeight = Math.ceil(this._eleHeight + this._eleHeight * this._offset * ((e - this._eleHeight) / e));
        this._offsetHeight = Math.ceil(this._eleHeight * this._offset);
        this.$target.css("height", this._targetHeight + "px");
        this._onScroll()
    };
    t._onScroll = function(t) {
        var e = this.$element,
            i = o(_).scrollTop(),
            s = e.offset().top,
            n = o(_).height();
        if (s + this._eleHeight > i && s < i + n) {
            var h = this.$target,
                r = 0,
                a, l;
            if (this._direct == 0) {
                a = i - s;
                l = a / n;
                r = l * this._offsetHeight
            } else {
                a = i - s - this._eleHeight;
                l = a / (n + this._eleHeight);
                r = -1 * (l + 1) * this._offsetHeight
            }
            if (this._useAnimate || this._forceAnimate) {
                createjs.Tween.get(this, {
                    override: true,
                    onChange: this._onAniUpdateHandler
                }).to({
                    _aniValue: r
                }, this._animateTime, createjs.Ease[this._animateEasing] || createjs.Ease.cubicOut)
            } else {
                this._renderY(h, r)
            }
        }
    };
    t._onAniUpdate = function() {
        this._renderY(this.$target, this._aniValue)
    };
    t._renderY = function(t, e) {
        e = Math.round(e);
        t.css("transform", "translate3d(0," + e + "px,0)")
    };
    t.resize = function() {
        this._forceAnimate = true;
        this._onResize();
        this._forceAnimate = false
    };
    t.execute = function(t, e) {
        if (t.indexOf("_") === 0) {
            return
        }
        var i = this[t];
        if (i && typeof i == "function") {
            i.apply(this, e || [])
        }
    };
    t.dispose = function() {
        var t = o(_);
        if (this._onScrollHandler) {
            t.off("scroll", this._onScrollHandler);
            this._onScrollHandler = null
        }
        if (this._onResizeHandler) {
            t.off("resize", this._onResizeHandler);
            this._onResizeHandler = null
        }
        if (this._element) {
            this._element.__ptParallax = null;
            this._element = null
        }
        this._onAniUpdateHandler = null
    };
    o.fn.extend({
        ptParallax: function(e) {
            var t = /Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);
            var i = !!window.ActiveXObject || "ActiveXObject" in window;
            if (t || i) {
                return this
            }
            this.each(function() {
                var t = this.__ptParallax;
                t && t.dispose();
                new s(this, e || {})
            });
            return this
        },
        ptParallaxCall: function(e, i) {
            this.each(function() {
                var t = this.__ptParallax;
                t && t.execute(e, i)
            });
            return this
        }
    })
}(jQuery, window);